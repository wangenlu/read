# 第八章 内存管理

- 页框管理
- 页描述符
- 非一致内存访问 NUMA (non uniform memory access)
- CPU 页框高速缓存
- 伙伴系统

Figure 8-1. Dynamic memory


## NUMA

给定CPU对不同内存单元的访问时间可能不一样。系统的物理内存被划分为几个节点(node)。在一个单独的节点内，任一给定CPU访问页面所需的时间都是相同
的。然而，对不同的CPU，这个时间可能就不同。对每个CPU而言，内核都试图把耗时节点的访问次数减到最少,这就要小心地选择CPU最常引用的内核数据结构的存放位置(注1)。

每个节点中的物理内存又可以分为几个管理区(Eone),这我们将在下一节介绍。每个节点都有一个类型为pg_data_t 的描述符，它的字段如表8-3所示。所有节点的描述符存放在一个单向链表中，它的第一个元素由pgdat_list 变量指向。