# 第2章 InnoDB存储引擎

- 后台线程
- 缓冲池
- Master Thread
- IO Thread
- insert buffer thread
- log thread
- read thread
- write therad
- Purge Thread 回收 undo 页
- Page cleaner Thread
- innodb_buffer_pool_size 缓冲池配置
- 

## Master Thread

Master Thread是--个非常核心的后台线程，主要负责将缓冲池中的数据异步刷新
到磁盘，保证数据的一致性，包括脏页的刷新、合并插人缓冲(INSERT BUFFER)、
UNDO页的回收等。2.5 节会详细地介绍各个版本中Master Thread的工作方式。

## 缓冲池

1.缓冲池
InnoDB存储引擎是基于磁盘存储的，并将其中的记录按照页的方式进行管理。因此
可将其视为基于磁盘的数据库系统( Disk-base Database)。在数据库系统中，由于CPU
速度与磁盘速度之间的鸿沟，基于磁盘的数据库系统通常使用缓冲池技术来提高数据库的整体性能。

缓冲池简单来说就是一块内存区域，通过内存的速度来弥补磁盘速度较慢对数据库
性能的影响。在数据库中进行读取页的操作，首先将从磁盘读到的页存放在缓冲池中,
这个过程称为将页“FIX"在缓冲池中。下一次再读相同的页时，首先判断该页是否在
缓冲池中。若在缓冲池中，称该页在缓冲池中被命中，直接读取该页。否则，读取磁盘上的页。

对于数据库中页的修改操作，则首先修改在缓冲池中的页，然后再以一定的频率刷
新到磁盘上。这里需要注意的是，页从缓冲池刷新回磁盘的操作并不是在每次页发生更
新时触发，而是通过- -种称为Checkpoint的机制刷新回磁盘。同样，这也是为了提高数
据库的整体性能。
